<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Arm® CryptoCell™-713 Software Developers Manual: CryptoCell ECC APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="arm_sip_html.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Arm® CryptoCell™-713 Software Developers Manual
   &#160;<span id="projectnumber">r0p0</span>
   </div>
   <div id="projectbrief">Runtime API Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__cc__ecpki.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CryptoCell ECC APIs</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains functions and definitions for handling keys used in Elliptic Curves Cryptography (ECC).  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__cc__ecpki__kg"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki__kg.html">CryptoCell APIs for generation of ECC private and public keys</a></td></tr>
<tr class="memdesc:group__cc__ecpki__kg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains CryptoCell APIs for generation of ECC private and public keys. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__cc__ecpki__error"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki__error.html">CryptoCell ECC specific errors</a></td></tr>
<tr class="memdesc:group__cc__ecpki__error"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains errors that are specific to ECC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__cc__ecpki__ecdsa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki__ecdsa.html">CryptoCell ECDSA APIs</a></td></tr>
<tr class="memdesc:group__cc__ecpki__ecdsa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains the APIs that support the ECDSA functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__cc__ecpki__types"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki__types.html">CryptoCell ECPKI type definitions</a></td></tr>
<tr class="memdesc:group__cc__ecpki__types"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains CryptoCell ECPKI type definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__cc__ecies__apis"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecies__apis.html">ECIES APIs</a></td></tr>
<tr class="memdesc:group__cc__ecies__apis"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains APIs that support EC Integrated Encryption Scheme. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__cc__ecpki__domain"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki__domain.html">ECPKI build domain APIs</a></td></tr>
<tr class="memdesc:group__cc__ecpki__domain"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains ECPKI build domain APIs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__ecpki__domain__defs"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ecpki__domain__defs.html">ECPKI domain definitions</a></td></tr>
<tr class="memdesc:group__ecpki__domain__defs"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains ECPKI domain definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6c49c7b8c24ceff4c7e0492d5876cf85"><td class="memItemLeft" align="right" valign="top"><a id="ga6c49c7b8c24ceff4c7e0492d5876cf85"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#ga6c49c7b8c24ceff4c7e0492d5876cf85">CC_EcpkiPubKeyBuild</a>(pDomain,  pPubKeyIn,  PublKeySizeInBytes,  pUserPublKey)&#160;&#160;&#160;<a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0">CC_EcpkiPublKeyBuildAndCheck</a>((pDomain), (pPubKeyIn), (PublKeySizeInBytes), <a class="el" href="group__cc__ecpki__types.html#gga9f8d890982781e83ebbfa39ab4244b41afaddfa522d08fc27449a28da4a874ed1">CheckPointersAndSizesOnly</a>, (pUserPublKey), NULL)</td></tr>
<tr class="memdesc:ga6c49c7b8c24ceff4c7e0492d5876cf85"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro calls <a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0" title="Builds a user public key structure from an imported public key, so it can be used by other EC primiti...">CC_EcpkiPublKeyBuildAndCheck()</a> function for building the public key while checking input pointers and sizes. For a description of the parameters see <a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0" title="Builds a user public key structure from an imported public key, so it can be used by other EC primiti...">CC_EcpkiPublKeyBuildAndCheck()</a>. <br /></td></tr>
<tr class="separator:ga6c49c7b8c24ceff4c7e0492d5876cf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe2c2944e277928f96bdd071afff1228"><td class="memItemLeft" align="right" valign="top"><a id="gafe2c2944e277928f96bdd071afff1228"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#gafe2c2944e277928f96bdd071afff1228">CC_EcpkiPubKeyBuildAndPartlyCheck</a>(pDomain,  pPubKeyIn,  PublKeySizeInBytes,  pUserPublKey,  pTempBuff)&#160;&#160;&#160;<a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0">CC_EcpkiPublKeyBuildAndCheck</a>((pDomain), (pPubKeyIn), (PublKeySizeInBytes), <a class="el" href="group__cc__ecpki__types.html#gga9f8d890982781e83ebbfa39ab4244b41a350bff2cf06bf069a61fb553de4cb351">ECpublKeyPartlyCheck</a>, (pUserPublKey), (pTempBuff))</td></tr>
<tr class="memdesc:gafe2c2944e277928f96bdd071afff1228"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro calls CC_EcpkiPublKeyBuildAndCheck function for building the public key with partial validation of the key [SEC1] - 3.2.3. For a description of the parameters, see <a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0" title="Builds a user public key structure from an imported public key, so it can be used by other EC primiti...">CC_EcpkiPublKeyBuildAndCheck()</a>. <br /></td></tr>
<tr class="separator:gafe2c2944e277928f96bdd071afff1228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bcfb28562dab96ca08b253d4d109201"><td class="memItemLeft" align="right" valign="top"><a id="ga4bcfb28562dab96ca08b253d4d109201"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#ga4bcfb28562dab96ca08b253d4d109201">CC_EcpkiPubKeyBuildAndFullCheck</a>(pDomain,  pPubKeyIn,  PublKeySizeInBytes,  pUserPublKey,  pTempBuff)&#160;&#160;&#160;<a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0">CC_EcpkiPublKeyBuildAndCheck</a>((pDomain), (pPubKeyIn), (PublKeySizeInBytes), (<a class="el" href="group__cc__ecpki__types.html#gga9f8d890982781e83ebbfa39ab4244b41af2f630e87b5b9c2e52b4985997e44d08">ECpublKeyFullCheck</a>), (pUserPublKey),  (pTempBuff))</td></tr>
<tr class="memdesc:ga4bcfb28562dab96ca08b253d4d109201"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro calls CC_EcpkiPublKeyBuildAndCheck function for building the public key with full validation of the key [SEC1] - 3.2.2. For a description of the parameters and return values, see <a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0" title="Builds a user public key structure from an imported public key, so it can be used by other EC primiti...">CC_EcpkiPublKeyBuildAndCheck()</a>. <br /></td></tr>
<tr class="separator:ga4bcfb28562dab96ca08b253d4d109201"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga64da5c0ad2a43995b70be3530dbaec10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#ga64da5c0ad2a43995b70be3530dbaec10">CC_EcpkiPrivKeyBuild</a> (const <a class="el" href="struct_c_c_ecpki_domain__t.html">CCEcpkiDomain_t</a> *pDomain, const uint8_t *pPrivKeyIn, size_t PrivKeySizeInBytes, <a class="el" href="struct_c_c_ecpki_user_priv_key__t.html">CCEcpkiUserPrivKey_t</a> *pUserPrivKey)</td></tr>
<tr class="memdesc:ga64da5c0ad2a43995b70be3530dbaec10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds (imports) the user private key structure from an existing private key so that this structure can be used by other EC primitives. This function should be called before using of the private key. Input domain structure must be initialized by EC parameters and auxiliary values, using CC_EcpkiGetDomain() or <a class="el" href="group__cc__sm2.html#gad0f2dce99938ca0f891571e562427fce" title="Returns the domain pointer of SM2.">CC_EcpkiGetSm2Domain()</a> functions.  <a href="#ga64da5c0ad2a43995b70be3530dbaec10">More...</a><br /></td></tr>
<tr class="separator:ga64da5c0ad2a43995b70be3530dbaec10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f88125a59128d89779e2fd571bc66e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#ga6f88125a59128d89779e2fd571bc66e0">CC_EcpkiPublKeyBuildAndCheck</a> (const <a class="el" href="struct_c_c_ecpki_domain__t.html">CCEcpkiDomain_t</a> *pDomain, uint8_t *pPubKeyIn, size_t PublKeySizeInBytes, <a class="el" href="group__cc__ecpki__types.html#ga9f8d890982781e83ebbfa39ab4244b41">ECPublKeyCheckMode_t</a> CheckMode, <a class="el" href="struct_c_c_ecpki_user_publ_key__t.html">CCEcpkiUserPublKey_t</a> *pUserPublKey, <a class="el" href="struct_c_c_ecpki_build_temp_data__t.html">CCEcpkiBuildTempData_t</a> *pTempBuff)</td></tr>
<tr class="memdesc:ga6f88125a59128d89779e2fd571bc66e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a user public key structure from an imported public key, so it can be used by other EC primitives. When operating the EC cryptographic algorithms with imported EC public key, this function should be called before using of the public key.  <a href="#ga6f88125a59128d89779e2fd571bc66e0">More...</a><br /></td></tr>
<tr class="separator:ga6f88125a59128d89779e2fd571bc66e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25e998fe904d1fef2a55ea296edcbe78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__ecpki.html#ga25e998fe904d1fef2a55ea296edcbe78">CC_EcpkiPubKeyExport</a> (<a class="el" href="struct_c_c_ecpki_user_publ_key__t.html">CCEcpkiUserPublKey_t</a> *pUserPublKey, <a class="el" href="group__cc__ecpki__types.html#ga700e4dbbe0668f8e9150029539d52ac4">CCEcpkiPointCompression_t</a> compression, uint8_t *pExternPublKey, size_t *pPublKeySizeBytes)</td></tr>
<tr class="memdesc:ga25e998fe904d1fef2a55ea296edcbe78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an existing public key from internal representation to big-endian export representation. The function converts the X,Y coordinates of public key EC point to big endianness, and sets the public key as follows:  <a href="#ga25e998fe904d1fef2a55ea296edcbe78">More...</a><br /></td></tr>
<tr class="separator:ga25e998fe904d1fef2a55ea296edcbe78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Contains functions and definitions for handling keys used in Elliptic Curves Cryptography (ECC). </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga64da5c0ad2a43995b70be3530dbaec10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64da5c0ad2a43995b70be3530dbaec10">&#9670;&nbsp;</a></span>CC_EcpkiPrivKeyBuild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_EcpkiPrivKeyBuild </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_c_c_ecpki_domain__t.html">CCEcpkiDomain_t</a> *&#160;</td>
          <td class="paramname"><em>pDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pPrivKeyIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>PrivKeySizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_c_ecpki_user_priv_key__t.html">CCEcpkiUserPrivKey_t</a> *&#160;</td>
          <td class="paramname"><em>pUserPrivKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds (imports) the user private key structure from an existing private key so that this structure can be used by other EC primitives. This function should be called before using of the private key. Input domain structure must be initialized by EC parameters and auxiliary values, using CC_EcpkiGetDomain() or <a class="el" href="group__cc__sm2.html#gad0f2dce99938ca0f891571e562427fce" title="Returns the domain pointer of SM2.">CC_EcpkiGetSm2Domain()</a> functions. </p>
<dl class="section return"><dt>Returns</dt><dd>CC_OK on success. </dd>
<dd>
A non-zero value on failure as defined <a class="el" href="cc__ecpki__error_8h.html" title="This file contains the definitions of the CryptoCell ECPKI errors.">cc_ecpki_error.h</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDomain</td><td>The EC domain (curve). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPrivKeyIn</td><td>Pointer to private key data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PrivKeySizeInBytes</td><td>Size of private key data (in bytes). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUserPrivKey</td><td>Pointer to the private key structure. This structure is used as input to the ECPKI cryptographic primitives. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga25e998fe904d1fef2a55ea296edcbe78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25e998fe904d1fef2a55ea296edcbe78">&#9670;&nbsp;</a></span>CC_EcpkiPubKeyExport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_EcpkiPubKeyExport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_c_ecpki_user_publ_key__t.html">CCEcpkiUserPublKey_t</a> *&#160;</td>
          <td class="paramname"><em>pUserPublKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__ecpki__types.html#ga700e4dbbe0668f8e9150029539d52ac4">CCEcpkiPointCompression_t</a>&#160;</td>
          <td class="paramname"><em>compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pExternPublKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pPublKeySizeBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an existing public key from internal representation to big-endian export representation. The function converts the X,Y coordinates of public key EC point to big endianness, and sets the public key as follows: </p>
<ul>
<li>
In case "Uncompressed" point: PubKey = PC||X||Y, PC = 0x4 - single byte; </li>
<li>
In case of "Hybrid" key PC = 0x6. </li>
<li>
In case of "Compressed" key PC = 0x2.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Size of output X and Y coordinates is equal to the modulus size in bytes. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value on failure as defined <a class="el" href="cc__ecpki__error_8h.html" title="This file contains the definitions of the CryptoCell ECPKI errors.">cc_ecpki_error.h</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pUserPublKey</td><td>Pointer to the input public key structure (in little-endian form). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">compression</td><td>Compression mode: Compressed, Uncompressed or Hybrid. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pExternPublKey</td><td>Pointer to the exported public key array, in compressed or uncompressed or hybrid form: [PC||X||Y] big-endian representation, structured according to [IEEE1363]. In compressed form, Y is omitted. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pPublKeySizeBytes</td><td>Pointer used for the input of the user public key buffer size (in bytes), and the output of the size of the converted public key in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6f88125a59128d89779e2fd571bc66e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f88125a59128d89779e2fd571bc66e0">&#9670;&nbsp;</a></span>CC_EcpkiPublKeyBuildAndCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc__pal__types__plat_8h.html#ae6af89d003c202f74ab7bc4c8cd26b74">CIMPORT_C</a> <a class="el" href="cc__pal__types__plat_8h.html#a0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_EcpkiPublKeyBuildAndCheck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_c_c_ecpki_domain__t.html">CCEcpkiDomain_t</a> *&#160;</td>
          <td class="paramname"><em>pDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pPubKeyIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>PublKeySizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__ecpki__types.html#ga9f8d890982781e83ebbfa39ab4244b41">ECPublKeyCheckMode_t</a>&#160;</td>
          <td class="paramname"><em>CheckMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_c_ecpki_user_publ_key__t.html">CCEcpkiUserPublKey_t</a> *&#160;</td>
          <td class="paramname"><em>pUserPublKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_c_ecpki_build_temp_data__t.html">CCEcpkiBuildTempData_t</a> *&#160;</td>
          <td class="paramname"><em>pTempBuff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a user public key structure from an imported public key, so it can be used by other EC primitives. When operating the EC cryptographic algorithms with imported EC public key, this function should be called before using of the public key. </p>
<dl class="section note"><dt>Note</dt><dd>The Incoming public key PublKeyIn structure is big-endian bytes array, containing concatenation of PC||X||Y. </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>PC - point control single byte, defining the type of point: 0x4 - uncompressed, 06,07 - hybrid, 2,3 - compressed. </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>X,Y - EC point coordinates of public key (y is omitted in compressed form), size of X and Y must be equal to size of EC modulus.</dd></dl>
<p>The user may call this function by appropriate macros, according to the necessary validation level in section SEC1. ECC standard: 3.2 of Standards for Efficient Cryptography Group (SECG): SEC1 Elliptic Curve Cryptography and ANSI X9.62-2005: Public Key Cryptography for the Financial Services Industry, The Elliptic Curve Digital Signature Algorithm (ECDSA): </p><ul>
<li>
Checking the input pointers and sizes only - <a class="el" href="group__cc__ecpki.html#ga6c49c7b8c24ceff4c7e0492d5876cf85" title="This macro calls CC_EcpkiPublKeyBuildAndCheck() function for building the public key while checking i...">CC_EcpkiPubKeyBuild()</a>. </li>
<li>
Partially checking of public key - <a class="el" href="group__cc__ecpki.html#gafe2c2944e277928f96bdd071afff1228" title="This macro calls CC_EcpkiPublKeyBuildAndCheck function for building the public key with partial valid...">CC_EcpkiPubKeyBuildAndPartlyCheck()</a>.  </li>
<li>
Full checking of public key - <a class="el" href="group__cc__ecpki.html#ga4bcfb28562dab96ca08b253d4d109201" title="This macro calls CC_EcpkiPublKeyBuildAndCheck function for building the public key with full validati...">CC_EcpkiPubKeyBuildAndFullCheck()</a>. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Full check mode takes long time and should be used only when it is actually needed.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value on failure as defined <a class="el" href="cc__ecpki__error_8h.html" title="This file contains the definitions of the CryptoCell ECPKI errors.">cc_ecpki_error.h</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDomain</td><td>The EC domain (curve). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPubKeyIn</td><td>Pointer to the input public key data, in compressed or uncompressed or hybrid form: [PC||X||Y] big-endian representation, structured according to [IEEE1363], where: <ul>
<li>
X and Y are the public key's EC point coordinates. In compressed form, Y is omitted. </li>
<li>
The sizes of X and Y are equal to the size of the EC modulus. </li>
<li>
PC is a one-byte point control that defines the type of point compression. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PublKeySizeInBytes</td><td>The size of public key data (in bytes). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CheckMode</td><td>The required level of public key verification (higher verification level means longer verification time): <ul>
<li>
0 = Preliminary validation.  </li>
<li>
1 = Partial validation.  </li>
<li>
2 = Full validation. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUserPublKey</td><td>Pointer to the output public key structure. This structure is used as input to the ECPKI cryptographic primitives. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTempBuff</td><td>Pointer for a temporary buffer required for the build function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright © 2001-2020 Arm Limited. All rights reserved. Non-Confidential.</li>
  </ul>
</div>
</body>
</html>
