<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Arm® CryptoCell™-713 Software Developers Manual: OTP integration tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="arm_sip_html.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Arm® CryptoCell™-713 Software Developers Manual
   &#160;<span id="projectnumber">r0p0</span>
   </div>
   <div id="projectbrief">Boot Services Integration Test API Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__otp__apis__tests.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OTP integration tests</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains macros to and APIs to simulate OTP.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaca3369528f311e23c4835ae2f86982df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#gaca3369528f311e23c4835ae2f86982df">ENV_OTP_START_OFFSET</a>&#160;&#160;&#160;0x2000UL</td></tr>
<tr class="separator:gaca3369528f311e23c4835ae2f86982df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f3226f2ac6d3dbf8c476d0e6bef2b47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#ga1f3226f2ac6d3dbf8c476d0e6bef2b47">TEST_WRITE_OTP_BY_ENV</a>(wordOffset,  val)&#160;&#160;&#160;<a class="el" href="group__cc__env__tests.html#ga2c26d049ebb82d82e4f4dc67b0bd555f">TEST_WRITE_ENV_REG</a>(<a class="el" href="group__otp__apis__tests.html#gaca3369528f311e23c4835ae2f86982df">ENV_OTP_START_OFFSET</a> + ((wordOffset)*CC_32BIT_WORD_SIZE), val)</td></tr>
<tr class="separator:ga1f3226f2ac6d3dbf8c476d0e6bef2b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5f545a16b0a4868a9e0b493088298bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#gad5f545a16b0a4868a9e0b493088298bb">TEST_READ_OTP_BY_ENV</a>(wordOffset)&#160;&#160;&#160;<a class="el" href="group__cc__env__tests.html#gad1fcfd09fc4bd0bff4d18c9eba71fd9b">TEST_READ_ENV_REG</a>(<a class="el" href="group__otp__apis__tests.html#gaca3369528f311e23c4835ae2f86982df">ENV_OTP_START_OFFSET</a> + ((wordOffset)*CC_32BIT_WORD_SIZE))</td></tr>
<tr class="separator:gad5f545a16b0a4868a9e0b493088298bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga9e9dc58fc40eea91b95b5329347bf418"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#ga9e9dc58fc40eea91b95b5329347bf418">ProjOtp_ChipState_t</a> { <br />
&#160;&#160;<a class="el" href="group__otp__apis__tests.html#gga9e9dc58fc40eea91b95b5329347bf418a0fb0e18a4b26ccac308bd7495feef12b">PROJ_OTP_CHIP_STATE_NOT_INITIALIZED</a> = 0, 
<a class="el" href="group__otp__apis__tests.html#gga9e9dc58fc40eea91b95b5329347bf418ab58f1ef43edcedcf9db8bf4bba0185ee">PROJ_OTP_CHIP_STATE_TEST</a> = 1, 
<a class="el" href="group__otp__apis__tests.html#gga9e9dc58fc40eea91b95b5329347bf418ad2dcb0a24878362cc7ce4217fd524efb">PROJ_OTP_CHIP_STATE_PRODUCTION</a> = 2, 
<a class="el" href="group__otp__apis__tests.html#gga9e9dc58fc40eea91b95b5329347bf418a2beaf72d149dc46e3e3e4add9fd2d293">PROJ_OTP_CHIP_STATE_ERROR</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__otp__apis__tests.html#gga9e9dc58fc40eea91b95b5329347bf418a86074cfcf15df4649a04161f750ecaee">PROJ_OTP_CHIP_STATE_RESERVED</a> = CC_MAX_UINT32_VAL
<br />
 }</td></tr>
<tr class="separator:ga9e9dc58fc40eea91b95b5329347bf418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b1993751e4ac06e9cb144eca5fda4ca"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#ga0b1993751e4ac06e9cb144eca5fda4ca">ProjOtp_Rma_t</a> { <br />
&#160;&#160;<a class="el" href="group__otp__apis__tests.html#gga0b1993751e4ac06e9cb144eca5fda4caa17251453ad9274bce30ee6849f000f5f">PROJ_OTP_RMA_NO</a> = 0, 
<a class="el" href="group__otp__apis__tests.html#gga0b1993751e4ac06e9cb144eca5fda4caa13b6dd84e1b8e1357aac18a342ea2ea5">PROJ_OTP_RMA_ICV</a> = 1, 
<a class="el" href="group__otp__apis__tests.html#gga0b1993751e4ac06e9cb144eca5fda4caac5b2cfd273d1fe49e4a5f1e26fc53eb9">PROJ_OTP_RMA_OEM</a> = 2, 
<a class="el" href="group__otp__apis__tests.html#gga0b1993751e4ac06e9cb144eca5fda4caa7fe6d5675624a9b1e9e883f3b6bcd959">PROJ_OTP_RMA_FULL</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__otp__apis__tests.html#gga0b1993751e4ac06e9cb144eca5fda4caa66d34d13517f7f79e8165ec1e93e474b">PROJ_OTP_RMA_RESERVED</a> = CC_MAX_UINT32_VAL
<br />
 }</td></tr>
<tr class="separator:ga0b1993751e4ac06e9cb144eca5fda4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1177e941b5a6c5a50092cd90646df558"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#ga1177e941b5a6c5a50092cd90646df558">Test_ProjReadOtpWord</a> (uint32_t offsetInWords)</td></tr>
<tr class="memdesc:ga1177e941b5a6c5a50092cd90646df558"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads a word from the OTP using environment (test dedicated) registers.  <a href="#ga1177e941b5a6c5a50092cd90646df558">More...</a><br /></td></tr>
<tr class="separator:ga1177e941b5a6c5a50092cd90646df558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5a4cb3d6c7d8c24384b8197aa2bf796"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#gae5a4cb3d6c7d8c24384b8197aa2bf796">Test_ProjBurnOtp</a> (uint32_t *otpBuff, uint32_t nextLcs)</td></tr>
<tr class="memdesc:gae5a4cb3d6c7d8c24384b8197aa2bf796"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function burns the OTP buffer with the defined mask. You must set chipIndication before calling this function explicitly by calling <a class="el" href="test__proj__otp_8h.html#ace8a3e8d8aa0761e2bf422a243b7bd53" title="This function sets chip indication in the OTP buffer and also calls Test_ProjSetOtpBufState()">Test_ProjSetChipIndication()</a> or by calling <a class="el" href="group__otp__apis__tests.html#gafc7fc629f612da66484e1b3c1331d95d" title="This function sets the OTP buffer with mandatory fields (LCS changing fields): HUK and HBK#....">Test_ProjBuildDefaultOtp()</a>. <br />
 Words with 0 value, are not being burned.  <a href="#gae5a4cb3d6c7d8c24384b8197aa2bf796">More...</a><br /></td></tr>
<tr class="separator:gae5a4cb3d6c7d8c24384b8197aa2bf796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc7fc629f612da66484e1b3c1331d95d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#gafc7fc629f612da66484e1b3c1331d95d">Test_ProjBuildDefaultOtp</a> (uint32_t *otpBuff, uint32_t otpBuffWordSize, uint32_t baseLcs, <a class="el" href="group__otp__apis__tests.html#ga9e9dc58fc40eea91b95b5329347bf418">ProjOtp_ChipState_t</a> chipIndication, <a class="el" href="group__otp__apis__tests.html#ga0b1993751e4ac06e9cb144eca5fda4ca">ProjOtp_Rma_t</a> rmaMode, uint32_t isSd, uint32_t isHbkFull)</td></tr>
<tr class="memdesc:gafc7fc629f612da66484e1b3c1331d95d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the OTP buffer with mandatory fields (LCS changing fields): HUK and HBK#. <br />
 Class keys should be set by the user out of this function scope by calling <a class="el" href="test__proj__otp_8h.html#abbd4c1a06f8d4596c107dd730a4e1546" title="This function sets field in OTP buffer with its zero count and not is use bits.">Test_ProjSetOtpField()</a>. <br />
 baseLcs valid values are CM/DM/SE only, if RMA is needed set rmaMode to PROJ_OTP_RMA_FULL. <br />
 baseLcs should be based on required fields in OTP to be filled.  <a href="#gafc7fc629f612da66484e1b3c1331d95d">More...</a><br /></td></tr>
<tr class="separator:gafc7fc629f612da66484e1b3c1331d95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1b6bb0fa59fa4ca6e63125760d9438a7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#ga1b6bb0fa59fa4ca6e63125760d9438a7">gTestOtpMaskV1</a> []</td></tr>
<tr class="separator:ga1b6bb0fa59fa4ca6e63125760d9438a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac214c2fb1b3a508e50941df533a92232"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__otp__apis__tests.html#gac214c2fb1b3a508e50941df533a92232">gTestOtpMaskV2</a> []</td></tr>
<tr class="separator:gac214c2fb1b3a508e50941df533a92232"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Contains macros to and APIs to simulate OTP. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaca3369528f311e23c4835ae2f86982df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca3369528f311e23c4835ae2f86982df">&#9670;&nbsp;</a></span>ENV_OTP_START_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENV_OTP_START_OFFSET&#160;&#160;&#160;0x2000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the memory offset used for OTP region. </p><dl class="section note"><dt>Note</dt><dd>You must implement OTP access that is compatible with your system. </dd></dl>

</div>
</div>
<a id="gad5f545a16b0a4868a9e0b493088298bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5f545a16b0a4868a9e0b493088298bb">&#9670;&nbsp;</a></span>TEST_READ_OTP_BY_ENV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_READ_OTP_BY_ENV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wordOffset</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cc__env__tests.html#gad1fcfd09fc4bd0bff4d18c9eba71fd9b">TEST_READ_ENV_REG</a>(<a class="el" href="group__otp__apis__tests.html#gaca3369528f311e23c4835ae2f86982df">ENV_OTP_START_OFFSET</a> + ((wordOffset)*CC_32BIT_WORD_SIZE))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines OTP word read. </p><dl class="section note"><dt>Note</dt><dd>You must implement OTP write that is compatible with your system. </dd></dl>

</div>
</div>
<a id="ga1f3226f2ac6d3dbf8c476d0e6bef2b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f3226f2ac6d3dbf8c476d0e6bef2b47">&#9670;&nbsp;</a></span>TEST_WRITE_OTP_BY_ENV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_WRITE_OTP_BY_ENV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wordOffset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__cc__env__tests.html#ga2c26d049ebb82d82e4f4dc67b0bd555f">TEST_WRITE_ENV_REG</a>(<a class="el" href="group__otp__apis__tests.html#gaca3369528f311e23c4835ae2f86982df">ENV_OTP_START_OFFSET</a> + ((wordOffset)*CC_32BIT_WORD_SIZE), val)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines OTP word write. </p><dl class="section note"><dt>Note</dt><dd>You must implement OTP write that is compatible with your system. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga9e9dc58fc40eea91b95b5329347bf418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e9dc58fc40eea91b95b5329347bf418">&#9670;&nbsp;</a></span>ProjOtp_ChipState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__otp__apis__tests.html#ga9e9dc58fc40eea91b95b5329347bf418">ProjOtp_ChipState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration definition chip state indication. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga9e9dc58fc40eea91b95b5329347bf418a0fb0e18a4b26ccac308bd7495feef12b"></a>PROJ_OTP_CHIP_STATE_NOT_INITIALIZED&#160;</td><td class="fielddoc"><p>Chip state not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9e9dc58fc40eea91b95b5329347bf418ab58f1ef43edcedcf9db8bf4bba0185ee"></a>PROJ_OTP_CHIP_STATE_TEST&#160;</td><td class="fielddoc"><p>Chip state for test chip. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9e9dc58fc40eea91b95b5329347bf418ad2dcb0a24878362cc7ce4217fd524efb"></a>PROJ_OTP_CHIP_STATE_PRODUCTION&#160;</td><td class="fielddoc"><p>Chip state for production chip. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9e9dc58fc40eea91b95b5329347bf418a2beaf72d149dc46e3e3e4add9fd2d293"></a>PROJ_OTP_CHIP_STATE_ERROR&#160;</td><td class="fielddoc"><p>Chip state error indication. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9e9dc58fc40eea91b95b5329347bf418a86074cfcf15df4649a04161f750ecaee"></a>PROJ_OTP_CHIP_STATE_RESERVED&#160;</td><td class="fielddoc"><p>Reserved value. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga0b1993751e4ac06e9cb144eca5fda4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b1993751e4ac06e9cb144eca5fda4ca">&#9670;&nbsp;</a></span>ProjOtp_Rma_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__otp__apis__tests.html#ga0b1993751e4ac06e9cb144eca5fda4ca">ProjOtp_Rma_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration definition chip state indication. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0b1993751e4ac06e9cb144eca5fda4caa17251453ad9274bce30ee6849f000f5f"></a>PROJ_OTP_RMA_NO&#160;</td><td class="fielddoc"><p>No RMA mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b1993751e4ac06e9cb144eca5fda4caa13b6dd84e1b8e1357aac18a342ea2ea5"></a>PROJ_OTP_RMA_ICV&#160;</td><td class="fielddoc"><p>Only ICV RMA bit is set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b1993751e4ac06e9cb144eca5fda4caac5b2cfd273d1fe49e4a5f1e26fc53eb9"></a>PROJ_OTP_RMA_OEM&#160;</td><td class="fielddoc"><p>Only OEM RMA bit is set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b1993751e4ac06e9cb144eca5fda4caa7fe6d5675624a9b1e9e883f3b6bcd959"></a>PROJ_OTP_RMA_FULL&#160;</td><td class="fielddoc"><p>Both OEM and ICV RMA bits are set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b1993751e4ac06e9cb144eca5fda4caa66d34d13517f7f79e8165ec1e93e474b"></a>PROJ_OTP_RMA_RESERVED&#160;</td><td class="fielddoc"><p>Reserved value. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafc7fc629f612da66484e1b3c1331d95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc7fc629f612da66484e1b3c1331d95d">&#9670;&nbsp;</a></span>Test_ProjBuildDefaultOtp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Test_ProjBuildDefaultOtp </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>otpBuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>otpBuffWordSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseLcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__otp__apis__tests.html#ga9e9dc58fc40eea91b95b5329347bf418">ProjOtp_ChipState_t</a>&#160;</td>
          <td class="paramname"><em>chipIndication</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__otp__apis__tests.html#ga0b1993751e4ac06e9cb144eca5fda4ca">ProjOtp_Rma_t</a>&#160;</td>
          <td class="paramname"><em>rmaMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>isSd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>isHbkFull</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the OTP buffer with mandatory fields (LCS changing fields): HUK and HBK#. <br />
 Class keys should be set by the user out of this function scope by calling <a class="el" href="test__proj__otp_8h.html#abbd4c1a06f8d4596c107dd730a4e1546" title="This function sets field in OTP buffer with its zero count and not is use bits.">Test_ProjSetOtpField()</a>. <br />
 baseLcs valid values are CM/DM/SE only, if RMA is needed set rmaMode to PROJ_OTP_RMA_FULL. <br />
 baseLcs should be based on required fields in OTP to be filled. </p>
<dl class="section note"><dt>Note</dt><dd>You must replace <a class="el" href="group__otp__apis__tests.html#ga1f3226f2ac6d3dbf8c476d0e6bef2b47">TEST_WRITE_OTP_BY_ENV()</a> and <a class="el" href="group__cc__env__tests.html#ga2c26d049ebb82d82e4f4dc67b0bd555f">TEST_WRITE_ENV_REG()</a> macros with implementation that is compatible with your system.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>TEST_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="test__proj__common_8h.html" title="This file contains common definitions that are used in the integration tests.">test_proj_common.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">otpBuff</td><td>OTP buffer to be built. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">otpBuffWordSize</td><td>The size in words of otpBuffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">baseLcs</td><td>The OTP buffer base CM/DM/SE. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chipIndication</td><td>The OTP chip indication. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rmaMode</td><td>The OTP RMA mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isSd</td><td>The OTP secure disable flag. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isHbkFull</td><td>The OTP HBK full flag. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae5a4cb3d6c7d8c24384b8197aa2bf796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5a4cb3d6c7d8c24384b8197aa2bf796">&#9670;&nbsp;</a></span>Test_ProjBurnOtp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Test_ProjBurnOtp </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>otpBuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nextLcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function burns the OTP buffer with the defined mask. You must set chipIndication before calling this function explicitly by calling <a class="el" href="test__proj__otp_8h.html#ace8a3e8d8aa0761e2bf422a243b7bd53" title="This function sets chip indication in the OTP buffer and also calls Test_ProjSetOtpBufState()">Test_ProjSetChipIndication()</a> or by calling <a class="el" href="group__otp__apis__tests.html#gafc7fc629f612da66484e1b3c1331d95d" title="This function sets the OTP buffer with mandatory fields (LCS changing fields): HUK and HBK#....">Test_ProjBuildDefaultOtp()</a>. <br />
 Words with 0 value, are not being burned. </p>
<dl class="section note"><dt>Note</dt><dd>You must replace <a class="el" href="group__otp__apis__tests.html#ga1f3226f2ac6d3dbf8c476d0e6bef2b47">TEST_WRITE_OTP_BY_ENV()</a> and <a class="el" href="group__cc__env__tests.html#ga2c26d049ebb82d82e4f4dc67b0bd555f">TEST_WRITE_ENV_REG()</a> macros with implementation that is compatible with your system.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>TEST_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="test__proj__common_8h.html" title="This file contains common definitions that are used in the integration tests.">test_proj_common.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">otpBuff</td><td>OTP buffer to be burned. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nextLcs</td><td>The LCS expected after burning the OTP. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1177e941b5a6c5a50092cd90646df558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1177e941b5a6c5a50092cd90646df558">&#9670;&nbsp;</a></span>Test_ProjReadOtpWord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Test_ProjReadOtpWord </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offsetInWords</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads a word from the OTP using environment (test dedicated) registers. </p>
<dl class="section note"><dt>Note</dt><dd>You must replace <a class="el" href="group__otp__apis__tests.html#gad5f545a16b0a4868a9e0b493088298bb">TEST_READ_OTP_BY_ENV()</a> macro with implementation that is compatible with your system.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>The</code> OTP read word </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offsetInWords</td><td>OTP word offset to be read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga1b6bb0fa59fa4ca6e63125760d9438a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b6bb0fa59fa4ca6e63125760d9438a7">&#9670;&nbsp;</a></span>gTestOtpMaskV1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t gTestOtpMaskV1[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value one of OTP mask.</p>
<p>The random OTP mask (a representation of the mask that is located in the RTL used for OTP masking). CryptoCell FPGA implementation includes two different values. You can put the same value in both definitions.</p>
<dl class="section note"><dt>Note</dt><dd>You must implement the OTP masking that is compatible with your system. </dd></dl>

</div>
</div>
<a id="gac214c2fb1b3a508e50941df533a92232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac214c2fb1b3a508e50941df533a92232">&#9670;&nbsp;</a></span>gTestOtpMaskV2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t gTestOtpMaskV2[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value two of OTP mask.</p>
<p>The random OTP mask (a representation of the mask that is located in the RTL used for OTP masking). CryptoCell FPGA implementation includes two different values. You can put the same value in both definitions.</p>
<dl class="section note"><dt>Note</dt><dd>You must implement the OTP masking that is compatible with your system. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright © 2001-2020 Arm Limited. All rights reserved. Non-Confidential.</li>
  </ul>
</div>
</body>
</html>
