<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Arm® CryptoCell™-713 Software Developers Manual: bsv_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="arm_sip_html.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Arm® CryptoCell™-713 Software Developers Manual
   &#160;<span id="projectnumber">r0p0</span>
   </div>
   <div id="projectbrief">Boot Services API Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bsv__api_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bsv_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the Boot Services APIs and definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cc__pal__types_8h.html">cc_pal_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cc__sec__defs_8h.html">cc_sec_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cc__boot__defs_8h.html">cc_boot_defs.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga323de1d64d128875fd3a81d6679d9f45"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga323de1d64d128875fd3a81d6679d9f45">CC_BSV_CHIP_MANUFACTURE_LCS</a>&#160;&#160;&#160;0x0</td></tr>
<tr class="separator:ga323de1d64d128875fd3a81d6679d9f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab21f94fb22a14d0f1a0157100538f7f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gab21f94fb22a14d0f1a0157100538f7f9">CC_BSV_DEVICE_MANUFACTURE_LCS</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:gab21f94fb22a14d0f1a0157100538f7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ad930bf7d2989a6e71af52dd1ea6fba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga8ad930bf7d2989a6e71af52dd1ea6fba">CC_BSV_SECURE_LCS</a>&#160;&#160;&#160;0x5</td></tr>
<tr class="separator:ga8ad930bf7d2989a6e71af52dd1ea6fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa394135213bfa3d114bed5e6b9cfa054"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gaa394135213bfa3d114bed5e6b9cfa054">CC_BSV_RMA_LCS</a>&#160;&#160;&#160;0x7</td></tr>
<tr class="separator:gaa394135213bfa3d114bed5e6b9cfa054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7af3cc0c1698167aa25f78022abacddf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga7af3cc0c1698167aa25f78022abacddf">CC_BSV_INVALID_LCS</a>&#160;&#160;&#160;0xff</td></tr>
<tr class="separator:ga7af3cc0c1698167aa25f78022abacddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga2fd947f7c387400b727ddfdfd6f00f3e">CC_BsvInit</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies the product and version numbers of the HW, and initializes it.  <a href="group__cc__bsv__api.html#ga2fd947f7c387400b727ddfdfd6f00f3e">More...</a><br /></td></tr>
<tr class="separator:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6658b2f26e56cbc0763c55676d086b35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga6658b2f26e56cbc0763c55676d086b35">CC_BsvGetAndInitLcs</a> (unsigned long hwBaseAddress, uint32_t *pLcs)</td></tr>
<tr class="memdesc:ga6658b2f26e56cbc0763c55676d086b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the HW LCS and performs validity checks.  <a href="group__cc__bsv__api.html#ga6658b2f26e56cbc0763c55676d086b35">More...</a><br /></td></tr>
<tr class="separator:ga6658b2f26e56cbc0763c55676d086b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad26e602460f08ead706120d116514925"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gad26e602460f08ead706120d116514925">CC_BsvLcsGet</a> (unsigned long hwBaseAddress, uint32_t *pLcs)</td></tr>
<tr class="memdesc:gad26e602460f08ead706120d116514925"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the LCS from the NVM manager.  <a href="group__cc__bsv__api.html#gad26e602460f08ead706120d116514925">More...</a><br /></td></tr>
<tr class="separator:gad26e602460f08ead706120d116514925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdd549c26f39a9c55961317d004e1b4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gafdd549c26f39a9c55961317d004e1b4d">CC_BsvSwVersionGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a> id, uint32_t *swVersion)</td></tr>
<tr class="memdesc:gafdd549c26f39a9c55961317d004e1b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads software revocation counter from OTP memory, according to the provided SW version index. Due to the way the SW version counters are stored in the OTP (a bit field representing a number by the number of set bits, for example swVersion=5 would be stored as binary 0b11111), they are limited in size thus: the maximal of trusted SW version is 32 the maximal of non-trusted SW version is 224.  <a href="group__cc__bsv__api.html#gafdd549c26f39a9c55961317d004e1b4d">More...</a><br /></td></tr>
<tr class="separator:gafdd549c26f39a9c55961317d004e1b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b71b069988ac1d12601463dd94094b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga2b71b069988ac1d12601463dd94094b4">CC_BsvSwVersionSet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a> id, uint32_t swVersion)</td></tr>
<tr class="memdesc:ga2b71b069988ac1d12601463dd94094b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the NVM counter according to swVersionID (trusted/non-trusted).  <a href="group__cc__bsv__api.html#ga2b71b069988ac1d12601463dd94094b4">More...</a><br /></td></tr>
<tr class="separator:ga2b71b069988ac1d12601463dd94094b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1ac6ed71db0eb539d34d77dc9ad19132">CC_BsvFatalErrorSet</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the "fatal error" flag in the NVM manager, to disable the use of any HW keys or security services.  <a href="group__cc__bsv__api.html#ga1ac6ed71db0eb539d34d77dc9ad19132">More...</a><br /></td></tr>
<tr class="separator:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1532ff9d1064f89ea297bf167f0b0eee">CC_BsvPubKeyHashGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga793b8f8b1829e1aab1529364bac6180f">CCSbPubKeyIndexType_t</a> keyIndex, uint32_t *hashedPubKey, uint32_t hashResultSizeWords)</td></tr>
<tr class="memdesc:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the public key hash from OTP memory, according to the provided index.  <a href="group__cc__bsv__api.html#ga1532ff9d1064f89ea297bf167f0b0eee">More...</a><br /></td></tr>
<tr class="separator:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga7b0d8ab103ba3f3b028bfbe3fa19c2ad">CC_BsvRMAModeEnable</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function permanently sets the RMA LCS for the ICV and the OEM.  <a href="group__cc__bsv__api.html#ga7b0d8ab103ba3f3b028bfbe3fa19c2ad">More...</a><br /></td></tr>
<tr class="separator:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb309497d27f472a39e1d977aead7035"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gafb309497d27f472a39e1d977aead7035">CC_BsvICVRMAFlagBitLock</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:gafb309497d27f472a39e1d977aead7035"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called by the ICV code, to disable the OEM code from changing the ICV RMA bit flag.  <a href="group__cc__bsv__api.html#gafb309497d27f472a39e1d977aead7035">More...</a><br /></td></tr>
<tr class="separator:gafb309497d27f472a39e1d977aead7035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35fa686e151c3de1302a57bba3a6356c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga35fa686e151c3de1302a57bba3a6356c">CC_BsvICVKeyLock</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> isICVProvisioningKeyLock, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> isICVCodeEncKeyLock)</td></tr>
<tr class="memdesc:ga35fa686e151c3de1302a57bba3a6356c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function locks the defined ICV class keys from further usage.  <a href="group__cc__bsv__api.html#ga35fa686e151c3de1302a57bba3a6356c">More...</a><br /></td></tr>
<tr class="separator:ga35fa686e151c3de1302a57bba3a6356c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b9950c5ec8c05ffb11e345686254e54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1b9950c5ec8c05ffb11e345686254e54">CC_BsvSecureDisableGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> *isSDEnabled)</td></tr>
<tr class="memdesc:ga1b9950c5ec8c05ffb11e345686254e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the value of "secure disable" bit.  <a href="group__cc__bsv__api.html#ga1b9950c5ec8c05ffb11e345686254e54">More...</a><br /></td></tr>
<tr class="separator:ga1b9950c5ec8c05ffb11e345686254e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabca0780e4fd28ec9beeb96413eed81c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gaabca0780e4fd28ec9beeb96413eed81c">CC_BsvCustomerKeyDecrypt</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:gaabca0780e4fd28ec9beeb96413eed81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function derives the platform key (Kplt) from the Kpicv, and then decrypts the customer key (Kcst) from the EKcst (burned in the OTP). The decryption is done only in Secure and RMA LCS mode using AES-ECB. The customer ROM should invoke this function during early boot, prior to running any non-ROM code, only if Kcst exists. The resulting Kcst is saved in a HW register.  <a href="group__cc__bsv__api.html#gaabca0780e4fd28ec9beeb96413eed81c">More...</a><br /></td></tr>
<tr class="separator:gaabca0780e4fd28ec9beeb96413eed81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc56dca6559550c9ef2f22980ff16edd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gabc56dca6559550c9ef2f22980ff16edd">CC_BsvSocIDCompute</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__sb.html#gac629687506e9732b1bb4a27417402f1c">CCHashResult_t</a> hashResult)</td></tr>
<tr class="memdesc:gabc56dca6559550c9ef2f22980ff16edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function derives the unique SoC_ID for the device, as hashed (Hbk || AES_CMAC (HUK)).  <a href="group__cc__bsv__api.html#gabc56dca6559550c9ef2f22980ff16edd">More...</a><br /></td></tr>
<tr class="separator:gabc56dca6559550c9ef2f22980ff16edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the Boot Services APIs and definitions. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4f7e4242e27b8c8b476722507617a881.html">host</a></li><li class="navelem"><a class="el" href="dir_ee436fe9bbd694a1f99c2ca92ae2568f.html">src</a></li><li class="navelem"><a class="el" href="dir_bee1ecf5715f18022a3f5cdb990c9fc5.html">cc7x_sbromlib</a></li><li class="navelem"><a class="el" href="bsv__api_8h.html">bsv_api.h</a></li>
    <li class="footer">Copyright © 2001-2020 Arm Limited. All rights reserved. Non-Confidential.</li>
  </ul>
</div>
</body>
</html>
