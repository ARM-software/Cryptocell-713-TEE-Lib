<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Arm® CryptoCell™-713 Software Developers Manual: HAL related APIs and definitions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="arm_sip_html.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Arm® CryptoCell™-713 Software Developers Manual
   &#160;<span id="projectnumber">r0p0</span>
   </div>
   <div id="projectbrief">Boot Services API Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__cc__hal.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HAL related APIs and definitions</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the functions that are used for the SBROM HAL layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gafda20663857f6ec57bd7d73f1da62b10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__hal.html#gafda20663857f6ec57bd7d73f1da62b10">SB_HAL_READ_REGISTER</a>(addr,  val)&#160;&#160;&#160;((val) = (*((volatile uint32_t*)(addr))))</td></tr>
<tr class="separator:gafda20663857f6ec57bd7d73f1da62b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51097db7cfa5486840a1ad7f219f96b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__hal.html#ga51097db7cfa5486840a1ad7f219f96b4">SB_HAL_WRITE_REGISTER</a>(addr,  val)&#160;&#160;&#160;((*((volatile uint32_t*)(addr))) = (uint32_t)(val))</td></tr>
<tr class="separator:ga51097db7cfa5486840a1ad7f219f96b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaac754942866a21f4d46808ee4e268e36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__hal.html#gaac754942866a21f4d46808ee4e268e36">SB_HalInitInterrupt</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:gaac754942866a21f4d46808ee4e268e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to configure required CC HW registers to get AXIM interrupts.  <a href="#gaac754942866a21f4d46808ee4e268e36">More...</a><br /></td></tr>
<tr class="separator:gaac754942866a21f4d46808ee4e268e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10b639d8671b342609b3c3bbc787e74a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__hal.html#ga10b639d8671b342609b3c3bbc787e74a">SB_HalClearInterruptBit</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga10b639d8671b342609b3c3bbc787e74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to clear AXIM_COMP bit in the Interrupt Clear Register (ICR).  <a href="#ga10b639d8671b342609b3c3bbc787e74a">More...</a><br /></td></tr>
<tr class="separator:ga10b639d8671b342609b3c3bbc787e74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b76298381233b5c35ae2674c096260f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__hal.html#ga6b76298381233b5c35ae2674c096260f">SB_HalWaitInterrupt</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga6b76298381233b5c35ae2674c096260f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to wait for the IRR interrupt signal. The existing implementation performs a "busy wait" on the IRR.  <a href="#ga6b76298381233b5c35ae2674c096260f">More...</a><br /></td></tr>
<tr class="separator:ga6b76298381233b5c35ae2674c096260f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Contains the functions that are used for the SBROM HAL layer. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gafda20663857f6ec57bd7d73f1da62b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafda20663857f6ec57bd7d73f1da62b10">&#9670;&nbsp;</a></span>SB_HAL_READ_REGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SB_HAL_READ_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((val) = (*((volatile uint32_t*)(addr))))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a 32-bit value from a CryptoCell memory-mapped register. </p>

</div>
</div>
<a id="ga51097db7cfa5486840a1ad7f219f96b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51097db7cfa5486840a1ad7f219f96b4">&#9670;&nbsp;</a></span>SB_HAL_WRITE_REGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SB_HAL_WRITE_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((*((volatile uint32_t*)(addr))) = (uint32_t)(val))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a 32-bit value to a CryptoCell memory-mapped register.</p>
<dl class="section note"><dt>Note</dt><dd>This macro must be modified to make the operation synchronous. That is, the write operation must complete and the new value must be written to the register before the macro returns. The mechanisms required to achieve this are architecture-dependent, for example the memory barrier in Arm architecture. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga10b639d8671b342609b3c3bbc787e74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10b639d8671b342609b3c3bbc787e74a">&#9670;&nbsp;</a></span>SB_HalClearInterruptBit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SB_HalClearInterruptBit </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to clear AXIM_COMP bit in the Interrupt Clear Register (ICR). </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>CryptoCell base address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaac754942866a21f4d46808ee4e268e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac754942866a21f4d46808ee4e268e36">&#9670;&nbsp;</a></span>SB_HalInitInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SB_HalInitInterrupt </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to configure required CC HW registers to get AXIM interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>CryptoCell base address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6b76298381233b5c35ae2674c096260f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b76298381233b5c35ae2674c096260f">&#9670;&nbsp;</a></span>SB_HalWaitInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SB_HalWaitInterrupt </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to wait for the IRR interrupt signal. The existing implementation performs a "busy wait" on the IRR. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be adapted to the customer's system. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The IRR value. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>CryptoCell base address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright © 2001-2020 Arm Limited. All rights reserved. Non-Confidential.</li>
  </ul>
</div>
</body>
</html>
