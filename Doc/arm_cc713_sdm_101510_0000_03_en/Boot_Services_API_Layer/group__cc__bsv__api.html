<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Arm® CryptoCell™-713 Software Developers Manual: CryptoCell Boot Services APIs and definitions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="arm_sip_html.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Arm® CryptoCell™-713 Software Developers Manual
   &#160;<span id="projectnumber">r0p0</span>
   </div>
   <div id="projectbrief">Boot Services API Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__cc__bsv__api.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CryptoCell Boot Services APIs and definitions<div class="ingroups"><a class="el" href="group__cc__bsv.html">Boot services APIs and definitions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the Boot Services APIs and definitions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga323de1d64d128875fd3a81d6679d9f45"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga323de1d64d128875fd3a81d6679d9f45">CC_BSV_CHIP_MANUFACTURE_LCS</a>&#160;&#160;&#160;0x0</td></tr>
<tr class="separator:ga323de1d64d128875fd3a81d6679d9f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab21f94fb22a14d0f1a0157100538f7f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gab21f94fb22a14d0f1a0157100538f7f9">CC_BSV_DEVICE_MANUFACTURE_LCS</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:gab21f94fb22a14d0f1a0157100538f7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ad930bf7d2989a6e71af52dd1ea6fba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga8ad930bf7d2989a6e71af52dd1ea6fba">CC_BSV_SECURE_LCS</a>&#160;&#160;&#160;0x5</td></tr>
<tr class="separator:ga8ad930bf7d2989a6e71af52dd1ea6fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa394135213bfa3d114bed5e6b9cfa054"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gaa394135213bfa3d114bed5e6b9cfa054">CC_BSV_RMA_LCS</a>&#160;&#160;&#160;0x7</td></tr>
<tr class="separator:gaa394135213bfa3d114bed5e6b9cfa054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7af3cc0c1698167aa25f78022abacddf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga7af3cc0c1698167aa25f78022abacddf">CC_BSV_INVALID_LCS</a>&#160;&#160;&#160;0xff</td></tr>
<tr class="separator:ga7af3cc0c1698167aa25f78022abacddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga89efbfabb482fae697b4dfaf7d354fd4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a> { <a class="el" href="group__cc__bsv__api.html#gga89efbfabb482fae697b4dfaf7d354fd4a5d86970a856bc4ca148144f16949c325">CC_SW_VERSION_TRUSTED</a> = 0, 
<a class="el" href="group__cc__bsv__api.html#gga89efbfabb482fae697b4dfaf7d354fd4a37338caa64b992e7fa06e2f0e499b366">CC_SW_VERSION_NON_TRUSTED</a>, 
<a class="el" href="group__cc__bsv__api.html#gga89efbfabb482fae697b4dfaf7d354fd4ac3c1ec3bdd0f0ba04ca4e0227e947658">CC_SW_VERSION_MAX</a> = 0x7FFFFFFF
 }</td></tr>
<tr class="separator:ga89efbfabb482fae697b4dfaf7d354fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga793b8f8b1829e1aab1529364bac6180f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga793b8f8b1829e1aab1529364bac6180f">CCSbPubKeyIndexType_t</a> { <br />
&#160;&#160;<a class="el" href="group__cc__bsv__api.html#gga793b8f8b1829e1aab1529364bac6180fa6a643a00809e4cdf60ac67655f193b33">CC_SB_HASH_BOOT_KEY_0_128B</a> = 0, 
<a class="el" href="group__cc__bsv__api.html#gga793b8f8b1829e1aab1529364bac6180fa0920573ba8a8a49f71861a701ff80b0c">CC_SB_HASH_BOOT_KEY_1_128B</a> = 1, 
<a class="el" href="group__cc__bsv__api.html#gga793b8f8b1829e1aab1529364bac6180fa3157e11f51e244e5a350af1f579e8859">CC_SB_HASH_BOOT_KEY_256B</a> = 2, 
<a class="el" href="group__cc__bsv__api.html#gga793b8f8b1829e1aab1529364bac6180fae0a8174aa5cb47e0647ada0189f69024">CC_SB_HASH_BOOT_NOT_USED</a> = 0xF, 
<br />
&#160;&#160;<a class="el" href="group__cc__bsv__api.html#gga793b8f8b1829e1aab1529364bac6180fa61150ceb654bf60970c7949a8a26a293">CC_SB_HASH_MAX_NUM</a> = 0x7FFFFFFF
<br />
 }</td></tr>
<tr class="separator:ga793b8f8b1829e1aab1529364bac6180f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga525dcc200abccfb07775e213a0729d01"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga525dcc200abccfb07775e213a0729d01">CCBsvChipState_t</a> { <br />
&#160;&#160;<b>CHIP_STATE_NOT_INITIALIZED</b> = 0, 
<a class="el" href="group__cc__bsv__api.html#gga525dcc200abccfb07775e213a0729d01ae0681c257cafbd8d847a3e001ed1fc90">CHIP_STATE_TEST</a> = 1, 
<a class="el" href="group__cc__bsv__api.html#gga525dcc200abccfb07775e213a0729d01a3d599cb56f4d5d861706f3fa2c740bed">CHIP_STATE_PRODUCTION</a> = 2, 
<a class="el" href="group__cc__bsv__api.html#gga525dcc200abccfb07775e213a0729d01a3e2d801e3927eeef1a1dbd0607a4379a">CHIP_STATE_ERROR</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__cc__bsv__api.html#gga525dcc200abccfb07775e213a0729d01af30ba3053e25e5816386dac51f74cf93">CHIP_STATE_MAX</a> = 0x7FFFFFFF
<br />
 }</td></tr>
<tr class="separator:ga525dcc200abccfb07775e213a0729d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga2fd947f7c387400b727ddfdfd6f00f3e">CC_BsvInit</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies the product and version numbers of the HW, and initializes it.  <a href="#ga2fd947f7c387400b727ddfdfd6f00f3e">More...</a><br /></td></tr>
<tr class="separator:ga2fd947f7c387400b727ddfdfd6f00f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6658b2f26e56cbc0763c55676d086b35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga6658b2f26e56cbc0763c55676d086b35">CC_BsvGetAndInitLcs</a> (unsigned long hwBaseAddress, uint32_t *pLcs)</td></tr>
<tr class="memdesc:ga6658b2f26e56cbc0763c55676d086b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the HW LCS and performs validity checks.  <a href="#ga6658b2f26e56cbc0763c55676d086b35">More...</a><br /></td></tr>
<tr class="separator:ga6658b2f26e56cbc0763c55676d086b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad26e602460f08ead706120d116514925"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gad26e602460f08ead706120d116514925">CC_BsvLcsGet</a> (unsigned long hwBaseAddress, uint32_t *pLcs)</td></tr>
<tr class="memdesc:gad26e602460f08ead706120d116514925"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the LCS from the NVM manager.  <a href="#gad26e602460f08ead706120d116514925">More...</a><br /></td></tr>
<tr class="separator:gad26e602460f08ead706120d116514925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdd549c26f39a9c55961317d004e1b4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gafdd549c26f39a9c55961317d004e1b4d">CC_BsvSwVersionGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a> id, uint32_t *swVersion)</td></tr>
<tr class="memdesc:gafdd549c26f39a9c55961317d004e1b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads software revocation counter from OTP memory, according to the provided SW version index. Due to the way the SW version counters are stored in the OTP (a bit field representing a number by the number of set bits, for example swVersion=5 would be stored as binary 0b11111), they are limited in size thus: the maximal of trusted SW version is 32 the maximal of non-trusted SW version is 224.  <a href="#gafdd549c26f39a9c55961317d004e1b4d">More...</a><br /></td></tr>
<tr class="separator:gafdd549c26f39a9c55961317d004e1b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b71b069988ac1d12601463dd94094b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga2b71b069988ac1d12601463dd94094b4">CC_BsvSwVersionSet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a> id, uint32_t swVersion)</td></tr>
<tr class="memdesc:ga2b71b069988ac1d12601463dd94094b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the NVM counter according to swVersionID (trusted/non-trusted).  <a href="#ga2b71b069988ac1d12601463dd94094b4">More...</a><br /></td></tr>
<tr class="separator:ga2b71b069988ac1d12601463dd94094b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1ac6ed71db0eb539d34d77dc9ad19132">CC_BsvFatalErrorSet</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the "fatal error" flag in the NVM manager, to disable the use of any HW keys or security services.  <a href="#ga1ac6ed71db0eb539d34d77dc9ad19132">More...</a><br /></td></tr>
<tr class="separator:ga1ac6ed71db0eb539d34d77dc9ad19132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1532ff9d1064f89ea297bf167f0b0eee">CC_BsvPubKeyHashGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__bsv__api.html#ga793b8f8b1829e1aab1529364bac6180f">CCSbPubKeyIndexType_t</a> keyIndex, uint32_t *hashedPubKey, uint32_t hashResultSizeWords)</td></tr>
<tr class="memdesc:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the public key hash from OTP memory, according to the provided index.  <a href="#ga1532ff9d1064f89ea297bf167f0b0eee">More...</a><br /></td></tr>
<tr class="separator:ga1532ff9d1064f89ea297bf167f0b0eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga7b0d8ab103ba3f3b028bfbe3fa19c2ad">CC_BsvRMAModeEnable</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function permanently sets the RMA LCS for the ICV and the OEM.  <a href="#ga7b0d8ab103ba3f3b028bfbe3fa19c2ad">More...</a><br /></td></tr>
<tr class="separator:ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb309497d27f472a39e1d977aead7035"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gafb309497d27f472a39e1d977aead7035">CC_BsvICVRMAFlagBitLock</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:gafb309497d27f472a39e1d977aead7035"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called by the ICV code, to disable the OEM code from changing the ICV RMA bit flag.  <a href="#gafb309497d27f472a39e1d977aead7035">More...</a><br /></td></tr>
<tr class="separator:gafb309497d27f472a39e1d977aead7035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35fa686e151c3de1302a57bba3a6356c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga35fa686e151c3de1302a57bba3a6356c">CC_BsvICVKeyLock</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> isICVProvisioningKeyLock, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> isICVCodeEncKeyLock)</td></tr>
<tr class="memdesc:ga35fa686e151c3de1302a57bba3a6356c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function locks the defined ICV class keys from further usage.  <a href="#ga35fa686e151c3de1302a57bba3a6356c">More...</a><br /></td></tr>
<tr class="separator:ga35fa686e151c3de1302a57bba3a6356c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b9950c5ec8c05ffb11e345686254e54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#ga1b9950c5ec8c05ffb11e345686254e54">CC_BsvSecureDisableGet</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> *isSDEnabled)</td></tr>
<tr class="memdesc:ga1b9950c5ec8c05ffb11e345686254e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function retrieves the value of "secure disable" bit.  <a href="#ga1b9950c5ec8c05ffb11e345686254e54">More...</a><br /></td></tr>
<tr class="separator:ga1b9950c5ec8c05ffb11e345686254e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabca0780e4fd28ec9beeb96413eed81c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gaabca0780e4fd28ec9beeb96413eed81c">CC_BsvCustomerKeyDecrypt</a> (unsigned long hwBaseAddress)</td></tr>
<tr class="memdesc:gaabca0780e4fd28ec9beeb96413eed81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function derives the platform key (Kplt) from the Kpicv, and then decrypts the customer key (Kcst) from the EKcst (burned in the OTP). The decryption is done only in Secure and RMA LCS mode using AES-ECB. The customer ROM should invoke this function during early boot, prior to running any non-ROM code, only if Kcst exists. The resulting Kcst is saved in a HW register.  <a href="#gaabca0780e4fd28ec9beeb96413eed81c">More...</a><br /></td></tr>
<tr class="separator:gaabca0780e4fd28ec9beeb96413eed81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc56dca6559550c9ef2f22980ff16edd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cc__bsv__api.html#gabc56dca6559550c9ef2f22980ff16edd">CC_BsvSocIDCompute</a> (unsigned long hwBaseAddress, <a class="el" href="group__cc__sb.html#gac629687506e9732b1bb4a27417402f1c">CCHashResult_t</a> hashResult)</td></tr>
<tr class="memdesc:gabc56dca6559550c9ef2f22980ff16edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function derives the unique SoC_ID for the device, as hashed (Hbk || AES_CMAC (HUK)).  <a href="#gabc56dca6559550c9ef2f22980ff16edd">More...</a><br /></td></tr>
<tr class="separator:gabc56dca6559550c9ef2f22980ff16edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Contains the Boot Services APIs and definitions. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga323de1d64d128875fd3a81d6679d9f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga323de1d64d128875fd3a81d6679d9f45">&#9670;&nbsp;</a></span>CC_BSV_CHIP_MANUFACTURE_LCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_BSV_CHIP_MANUFACTURE_LCS&#160;&#160;&#160;0x0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The CM life-cycle state (LCS) value. </p>

</div>
</div>
<a id="gab21f94fb22a14d0f1a0157100538f7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab21f94fb22a14d0f1a0157100538f7f9">&#9670;&nbsp;</a></span>CC_BSV_DEVICE_MANUFACTURE_LCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_BSV_DEVICE_MANUFACTURE_LCS&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The DM life-cycle state (LCS) value. </p>

</div>
</div>
<a id="ga7af3cc0c1698167aa25f78022abacddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7af3cc0c1698167aa25f78022abacddf">&#9670;&nbsp;</a></span>CC_BSV_INVALID_LCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_BSV_INVALID_LCS&#160;&#160;&#160;0xff</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The invalid life-cycle state (LCS) value. </p>

</div>
</div>
<a id="gaa394135213bfa3d114bed5e6b9cfa054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa394135213bfa3d114bed5e6b9cfa054">&#9670;&nbsp;</a></span>CC_BSV_RMA_LCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_BSV_RMA_LCS&#160;&#160;&#160;0x7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The RMA life-cycle state (LCS) value. </p>

</div>
</div>
<a id="ga8ad930bf7d2989a6e71af52dd1ea6fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ad930bf7d2989a6e71af52dd1ea6fba">&#9670;&nbsp;</a></span>CC_BSV_SECURE_LCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_BSV_SECURE_LCS&#160;&#160;&#160;0x5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Secure life-cycle state (LCS) value. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga525dcc200abccfb07775e213a0729d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga525dcc200abccfb07775e213a0729d01">&#9670;&nbsp;</a></span>CCBsvChipState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__cc__bsv__api.html#ga525dcc200abccfb07775e213a0729d01">CCBsvChipState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Chip state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga525dcc200abccfb07775e213a0729d01ae0681c257cafbd8d847a3e001ed1fc90"></a>CHIP_STATE_TEST&#160;</td><td class="fielddoc"><p>Chip is not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga525dcc200abccfb07775e213a0729d01a3d599cb56f4d5d861706f3fa2c740bed"></a>CHIP_STATE_PRODUCTION&#160;</td><td class="fielddoc"><p>Chip is in Test state. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga525dcc200abccfb07775e213a0729d01a3e2d801e3927eeef1a1dbd0607a4379a"></a>CHIP_STATE_ERROR&#160;</td><td class="fielddoc"><p>Chip is in Production state. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga525dcc200abccfb07775e213a0729d01af30ba3053e25e5816386dac51f74cf93"></a>CHIP_STATE_MAX&#160;</td><td class="fielddoc"><p>Chip is in Error state. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga793b8f8b1829e1aab1529364bac6180f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga793b8f8b1829e1aab1529364bac6180f">&#9670;&nbsp;</a></span>CCSbPubKeyIndexType_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__cc__bsv__api.html#ga793b8f8b1829e1aab1529364bac6180f">CCSbPubKeyIndexType_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The hash boot key definition. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga793b8f8b1829e1aab1529364bac6180fa6a643a00809e4cdf60ac67655f193b33"></a>CC_SB_HASH_BOOT_KEY_0_128B&#160;</td><td class="fielddoc"><p>Hbk0: 128-bit truncated SHA-256 digest of PubKB0. Used by ICV </p>
</td></tr>
<tr><td class="fieldname"><a id="gga793b8f8b1829e1aab1529364bac6180fa0920573ba8a8a49f71861a701ff80b0c"></a>CC_SB_HASH_BOOT_KEY_1_128B&#160;</td><td class="fielddoc"><p>Hbk1: 128-bit truncated SHA-256 digest of PubKB1. Used by OEM </p>
</td></tr>
<tr><td class="fieldname"><a id="gga793b8f8b1829e1aab1529364bac6180fa3157e11f51e244e5a350af1f579e8859"></a>CC_SB_HASH_BOOT_KEY_256B&#160;</td><td class="fielddoc"><p>Hbk: 256-bit SHA-256 digest of public key. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga793b8f8b1829e1aab1529364bac6180fae0a8174aa5cb47e0647ada0189f69024"></a>CC_SB_HASH_BOOT_NOT_USED&#160;</td><td class="fielddoc"><p>Hbk is not used. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga793b8f8b1829e1aab1529364bac6180fa61150ceb654bf60970c7949a8a26a293"></a>CC_SB_HASH_MAX_NUM&#160;</td><td class="fielddoc"><p>Reserved. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga89efbfabb482fae697b4dfaf7d354fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89efbfabb482fae697b4dfaf7d354fd4">&#9670;&nbsp;</a></span>CCSbSwVersionId_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Version counters value. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga89efbfabb482fae697b4dfaf7d354fd4a5d86970a856bc4ca148144f16949c325"></a>CC_SW_VERSION_TRUSTED&#160;</td><td class="fielddoc"><p>Trusted counter. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga89efbfabb482fae697b4dfaf7d354fd4a37338caa64b992e7fa06e2f0e499b366"></a>CC_SW_VERSION_NON_TRUSTED&#160;</td><td class="fielddoc"><p>Non trusted counter. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga89efbfabb482fae697b4dfaf7d354fd4ac3c1ec3bdd0f0ba04ca4e0227e947658"></a>CC_SW_VERSION_MAX&#160;</td><td class="fielddoc"><p>Reserved </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaabca0780e4fd28ec9beeb96413eed81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabca0780e4fd28ec9beeb96413eed81c">&#9670;&nbsp;</a></span>CC_BsvCustomerKeyDecrypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvCustomerKeyDecrypt </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function derives the platform key (Kplt) from the Kpicv, and then decrypts the customer key (Kcst) from the EKcst (burned in the OTP). The decryption is done only in Secure and RMA LCS mode using AES-ECB. The customer ROM should invoke this function during early boot, prior to running any non-ROM code, only if Kcst exists. The resulting Kcst is saved in a HW register. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1ac6ed71db0eb539d34d77dc9ad19132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ac6ed71db0eb539d34d77dc9ad19132">&#9670;&nbsp;</a></span>CC_BsvFatalErrorSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvFatalErrorSet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the "fatal error" flag in the NVM manager, to disable the use of any HW keys or security services. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6658b2f26e56cbc0763c55676d086b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6658b2f26e56cbc0763c55676d086b35">&#9670;&nbsp;</a></span>CC_BsvGetAndInitLcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvGetAndInitLcs </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pLcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function retrieves the HW LCS and performs validity checks. </p>
<p>If the LCS is RMA, it also sets the OTP secret keys to a fixed value.</p>
<dl class="section note"><dt>Note</dt><dd>An error is returned if there is an invalid LCS. If this happens, your code must completely disable the device.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pLcs</td><td>The value of the current LCS. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga35fa686e151c3de1302a57bba3a6356c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35fa686e151c3de1302a57bba3a6356c">&#9670;&nbsp;</a></span>CC_BsvICVKeyLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvICVKeyLock </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a>&#160;</td>
          <td class="paramname"><em>isICVProvisioningKeyLock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a>&#160;</td>
          <td class="paramname"><em>isICVCodeEncKeyLock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function locks the defined ICV class keys from further usage. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>HW registers base address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isICVProvisioningKeyLock</td><td>Should the provisioning key be locked. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isICVCodeEncKeyLock</td><td>Should the encryption key be locked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafb309497d27f472a39e1d977aead7035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb309497d27f472a39e1d977aead7035">&#9670;&nbsp;</a></span>CC_BsvICVRMAFlagBitLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvICVRMAFlagBitLock </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called by the ICV code, to disable the OEM code from changing the ICV RMA bit flag. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2fd947f7c387400b727ddfdfd6f00f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fd947f7c387400b727ddfdfd6f00f3e">&#9670;&nbsp;</a></span>CC_BsvInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvInit </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function verifies the product and version numbers of the HW, and initializes it. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function must be the first CryptoCell-7xx SBROM library API called.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad26e602460f08ead706120d116514925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad26e602460f08ead706120d116514925">&#9670;&nbsp;</a></span>CC_BsvLcsGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvLcsGet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pLcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function retrieves the LCS from the NVM manager. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pLcs</td><td>The value of the current LCS. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1532ff9d1064f89ea297bf167f0b0eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1532ff9d1064f89ea297bf167f0b0eee">&#9670;&nbsp;</a></span>CC_BsvPubKeyHashGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvPubKeyHashGet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__bsv__api.html#ga793b8f8b1829e1aab1529364bac6180f">CCSbPubKeyIndexType_t</a>&#160;</td>
          <td class="paramname"><em>keyIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>hashedPubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hashResultSizeWords</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function retrieves the public key hash from OTP memory, according to the provided index. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>HW registers base address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyIndex</td><td>Enumeration defining the key hash to retrieve: 128-bit HBK0, 128-bit HBK1, or 256-bit HBK. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hashedPubKey</td><td>A buffer to contain the public key HASH. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashResultSizeWords</td><td>The size of the hash in 32-bit words:<ul>
<li>Must be 4 for 128-bit hash.</li>
<li>Must be 8 for 256bit hash. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7b0d8ab103ba3f3b028bfbe3fa19c2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b0d8ab103ba3f3b028bfbe3fa19c2ad">&#9670;&nbsp;</a></span>CC_BsvRMAModeEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvRMAModeEnable </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function permanently sets the RMA LCS for the ICV and the OEM. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1b9950c5ec8c05ffb11e345686254e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b9950c5ec8c05ffb11e345686254e54">&#9670;&nbsp;</a></span>CC_BsvSecureDisableGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvSecureDisableGet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__pal__types.html#ga6dcfa1fccae81f1dcfefe3229df69b6c">CCBool_t</a> *&#160;</td>
          <td class="paramname"><em>isSDEnabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function retrieves the value of "secure disable" bit. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>HW registers base address. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">isSDEnabled</td><td>The value of the SD Enable bit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabc56dca6559550c9ef2f22980ff16edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc56dca6559550c9ef2f22980ff16edd">&#9670;&nbsp;</a></span>CC_BsvSocIDCompute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvSocIDCompute </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__sb.html#gac629687506e9732b1bb4a27417402f1c">CCHashResult_t</a>&#160;</td>
          <td class="paramname"><em>hashResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function derives the unique SoC_ID for the device, as hashed (Hbk || AES_CMAC (HUK)). </p>
<dl class="section note"><dt>Note</dt><dd>SoC_ID is required to create debug certificates.</dd></dl>
<p>The OEM or ICV must provide a method for a developer to discover the SoC_ID of a target device without having to first enable debugging. One suggested implementation is to have the device ROM code compute the SoC_ID and place it in a specific location in the flash memory, from where it can be accessed by the developer.</p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>The base address of the CryptoCell HW registers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hashResult</td><td>The derived SoC_ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafdd549c26f39a9c55961317d004e1b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdd549c26f39a9c55961317d004e1b4d">&#9670;&nbsp;</a></span>CC_BsvSwVersionGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvSwVersionGet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>swVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads software revocation counter from OTP memory, according to the provided SW version index. Due to the way the SW version counters are stored in the OTP (a bit field representing a number by the number of set bits, for example swVersion=5 would be stored as binary 0b11111), they are limited in size thus: the maximal of trusted SW version is 32 the maximal of non-trusted SW version is 224. </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>HW registers base address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Enumeration defining the trusted/non-trusted counter to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">swVersion</td><td>The value of the requested counter as read from OTP memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2b71b069988ac1d12601463dd94094b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b71b069988ac1d12601463dd94094b4">&#9670;&nbsp;</a></span>CC_BsvSwVersionSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cc__pal__types.html#ga0524980129b7e5ec9d0998ddab83dd1a">CCError_t</a> CC_BsvSwVersionSet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>hwBaseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cc__bsv__api.html#ga89efbfabb482fae697b4dfaf7d354fd4">CCSbSwVersionId_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>swVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the NVM counter according to swVersionID (trusted/non-trusted). </p>
<dl class="section return"><dt>Returns</dt><dd><code>CC_OK</code> on success. </dd>
<dd>
A non-zero value from <a class="el" href="bsv__error_8h.html" title="This file defines the error code types that are returned from the Boot Services APIs.">bsv_error.h</a> on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwBaseAddress</td><td>HW registers base address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Enumeration defining the trusted/non-trusted counter to read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">swVersion</td><td>New value of the counter to be programmed in OTP memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright © 2001-2020 Arm Limited. All rights reserved. Non-Confidential.</li>
  </ul>
</div>
</body>
</html>
